.\" hosted-engine - Tool for handling hosted engine
.TH "HOSTED-ENGINE" "8" "2013-10-23" "oVirt" "oVirt Hosted Engine Setup Manual"
.SH "NAME"
hosted\-engine \- Tools for handling hosted engine
.SH "SYNOPSIS"
\fBhosted\-engine\fP [\-\-help] <command> [<command\-args>]
.PP
.SH "DESCRIPTION"
.PP
The \fBhosted\-engine\fP command deploys a virtual machine that you can
install oVirt Open Virtualization Manager on to.
The Manager installation on your hosted-engine virtual machine can manage
the host it is running on.
The hosted-engine command can also be used to start, stop and access the
hosted-engine virtual machine.
\&

.SH "OPTIONS"
.IP "\fB\-\-help\fP"
Show the help message and exit.\&

.IP "The following commands are available:"
.IP "\fB\-\-deploy [options] [--ansible|--noansible]\fP"
Run the ovirt-hosted-engine-setup command to deploy the hosted-engine virtual
machine.\&
.IP "\fB\-\-vm-start [\-\-vm\-conf=<file>]\fP"
Start VM on this host.\&
\-\-vm\-conf=<file> can be optionally used to load an alternative vm.conf
file as a recovery action.
.IP "\fB\-\-vm-start-paused\fP"
Start VM on this host with qemu paused.\&
.IP "\fB\-\-vm-shutdown\fP"
Gracefully shutdown the VM on this host.\&
.IP "\fB\-\-vm-poweroff\fP"
Forcefully poweroff the VM on this host.\&
.IP "\fB\-\-vm-status [\-\-json]\fP"
Show the VM status, in machine-readable format if --json is given.\&
.IP "\fB\-\-add-console-password [\-\-password=<password>]\fP"
Create a temporary password for VNC/SPICE connections to the hosted-engine
virtual machine.\&
.IP "\fB\-\-config-append=file\fP"
Load extra configuration files or answer file.\&
.IP "\fB\-\-console\fP"
Open the configured console using virsh on localhost.\&
.IP "\fB\-\-check-deployed\fP"
Checks whether the hosted engine has been deployed.\&
.IP "\fB\-\-check-liveliness\fP"
Checks liveliness page of engine.\&
.IP "\fB\-\-connect-storage\fP"
Manually connect the storage domain to the local VDSM instance.\&
.IP "\fB\-\-connect-storage\fP"
Manually disconnect any connected storage domain from the local VDSM instance.\&
.IP "\fB\-\-set-maintenance \-\-mode=<mode>\fP"
Set maintenance status to the specified mode:
.RS 7
\fBglobal\fP - Allow the administrator to start/stop/modify the engine VM without any
worry of interference from the HA agents. \&
.RE
.RS 7
\fBlocal\fP - Allow the administrator to maintain this host.
Note that if you have only 2 nodes and one is in maintenance,
there is only one host available to run the engine VM. \&
.RE
.RS 7
\fBnone\fP - Resume HA functionality. \&
.RE
.IP "\fB\-\-set-shared-config key value [\-\-type=<type>]\fP"
Set the specified key in the shared storage configuration to the specified value. \&
.RE
.RS 7
If type is given the key is set in the file from the specified type.
This is useful if the key is duplicated in several configuration files.
.RE
.RS 7
Valid types are: broker, he_conf.
.RE
.RS 7
New values for he_conf (hosted-engine.conf file) will be used by all hosts (re)deployed after the configuration change.
Currently running hosts will still use the old values.
.RE
.IP "\fB\-\-get-shared-config key [\-\-type=<type>]\fP"
Get the specified key in the shared storage configuration. \&
.RE
.RS 7
If type is given the key is retrieved from the file of the specified type.
This is useful if the key is duplicated in several configuration files.
.RE
.RS 7
Valid types are: broker, he_conf.
.RE
.IP "\fB\-\-clean_metadata [\-\-force\-cleanup] [\-\-host\-id=<id>]\fP"
Remove host's metadata from the global status database.\&
.IP "\fB\-\-reinitialize\-lockspace [\-\-force]\fP"
Reinitialize the sanlock lockspace file. This WIPES all locks.\&
.IP "\fB\-\-upgrade\-appliance\fP"
Upgrade the engine appliance. Applicable only for upgrades from 3.6/el6 to 4.0/el7.\&
.IP "\fB\-\-rollback\-upgrade\fP"
Rollback using a backup saved in a previous upgrade attempt.\&


.IP "For additional information about a specific command try:"
hosted\-engine <command> --help\&

.SH "SEE ALSO"
.BR ovirt\-hosted\-engine\-setup (8)
